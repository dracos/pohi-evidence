POL00038925
POL00038925

Impact Programme: <>
POL FS to NS&l opxansa

IMPACT PROGRAMME:
POL FS To NS&I

APPLICATION INTERFACE SPECIFICATION

©Xansa ple 2004 / 14 October 2004 Page 1 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

.

ré
Impact Programme: re Js
POL FS to NS&l (xansa

Document Contro!

Authorisations

Role Name Signed Date

Programme Manager Tony Brain
PO Ltd Design Authority Torstein Godeseth

Reviewers
Name Reviewer(s) Role & Review Responsibilities
Torstein Godeseth PO Ltd Design Authority
Peter Jones PO Ltd Test Manager
Jacqui Cave PO Ltd Test Team

Distribution List

Name Organisation
Jill Hollindale (for Prism distribution) Prism IMPACT Programme Office
Debbie Shirley (for PO Ltd distribution) Post Office Ltd IMPACT Programme Office
©Xansa plc 2004 / 14 October 2004 Page 2 of 16 / Issue No: 0.1

File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

.
SS

. ¢ e
< Abe » Impact Programme: <xansa

!

POL FS to NS&l

Table of Contents

1. Change Control
1.1 Change Process

1.2 Change History...
2. Introduction...

2.1 Purpose ...

2.3 Background ...
2.4 Terms & Abbreviations ....

2.5 Reference Documentation,
2.6 Contacts
2.7 Audience.
3. Interface Details

3.1 Interface Diagram.
3.2 Data Flow...

3.3 POLFS to NS&I Product Mapping...

3.4 Data Overview...

3.5 File Structure Overview ...
3.6 File Format...
3.7 File Types...
3.8 Delivery Details ....

3.9 Volumes Anticipated. 15
3.10 Interface Availability 15

3.11 File Transfer ....
3.12 Fallback & Exception Processing...

3.13 Interface Security ...
3.14 Extract Rules

3.15 Load Rules

3.16 Issues...

©Xansa ple 2004 / 14 October 2004 Page 3 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

y
Impact Programme: ro)
abc] POL FS to NS&I co xansa

List of Figures

Figure 1 Interface Diagram
Figure 2 Data Flow Diagram .

List of Tables

Table 1 Change History.
Table 2 Terms and Abbreviations

Table 3 Reference Documentatior
Table 4 Contacts and Contributor:
Table 5 POLFS to NS&I Product Mapping

©Xansa ple 2004 / 14 October 2004 Page 4 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

y
Impact Programme: ro Js
POL FS to NS&l <p xansa

1. Change Control

1.1 Change Process

Any changes to the draft version of this document will be made, controlled and distributed by:

Steve Greenaway
Consultant
Xansa

Barker Lane
Chesterfield
S40 1DY

Email: steve.greenaway{ GRO I

1.2 Change History

Issue Author Date History
0.1 (draft) I Steve Greenaway 14" October 2004 Initial draft of document
Table 1 Change History
©Xansa ple 2004 / 14 October 2004 Page 5 of 16 / Issue No: 0.1

File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

: y
Impact Programme: é Js Yyanse
cabc J POL FS to NS&l G

2. Introduction

2.1 Purpose

The purpose of this document is to define the Transaction Value Summaries interface (including any
delayed data) required from the POL Finance System (POLFS) to the National Savings and
Investments (NS&I). This interface handles the transfer of information from POLFS for subsequent
upload to the NS&l.

2.2 Scope

The scope of this document is restricted to electronic data, which is both computer-generated and
computer-consumed and relates specifically to the transfer of data from the POL Finance System to
the National Savings and Investments.

The specification describes the format and volumes of the data files to be passed across the interface.
The data to be interfaced will be described and backed up with diagrams and appendices when
thought necessary. The structure of the interface in terms of file and record layouts is also given.

This document, once signed off, will be subject to change control procedures.

2.3 Background

With release S80 of the POL Impact Programme the existing POL to National Savings & Investments
interfaces will become redundant. The interfaces proposed within this document are intended to
replace the following existing interfaces.

¢ Transaction Value Summaries
e Late Cash Accounts
e Cash Account Adjustments

Asingle interface is proposed to replace the Transaction Value Summaries and to include any delayed
data in the same file. Cash Account Adjustments (the result of error notices) cannot easily be
replicated, so it is proposed that any requirements in this area are met by reporting transaction
correction data out of POLFS.

Currently, National Savings & Investments receive the information on a weekly basis from POL in a flat
file format. The existing interfaces will become redundant with the next release of the Impact
Programme. Therefore, a new interface is required to obtain the information from POLFS.

The required data will be extracted daily from POLFS in a flat file format and will be placed onto a
UNIX directory from where it will be interfaced into NS&I via FTP.

The file will contain information for the following National Savings & Investments products:

e Deposits
e =Withdrawals

©Xansa ple 2004 / 14 October 2004 Page 6 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
abc »

POL00038925
POL00038925

y
Impact Programme: roo)
POL FS to NS&l >xansa

2.4 Terms & Abbreviations

‘pp! pe

EAI Enterprise Application Integration

FAD Financial Accounting Description — a code which identifies the PO branch

FTP File Transfer Protocol

IMPACT Improved Accounting programme, a PO Ltd initiative to rationalise back-end
systems and processes.

NS&I National Savings and Investments

POL Post Office Limited

POLFS POL Finance System

SAP R/3 SAP applications, built around their latest R/3 system, provide the capability to
manage financial, asset, and cost accounting, production operations and materials,
personnel, plants, and archived documents.

TBD To be determined

2.5 Reference Documentation

Table 2 Terms and Abbreviations

A PO Ltd Financial Systems Release 3 1.0 01/06/2004
Conceptual Design

2.6 Contacts

Table 3 Reference Documentation

Nigel Stone

Xansa Philip Godden fl GRO
Table 4 Contacts and Contributors
©Xansa ple 2004 / 14 October 2004 Page 7 of 16 / Issue No: 0.1

File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

.

¢
Impact Programme: ¢ ): »
POL FS to NS&l opxansa

2.7 Audience
e POLtd IMPACT Programme Design Authority and Test Team

e Prism Alliance

3. Interface Details

The following data for the required National Savings and Investments products should be extracted
from POLFS.

e Trading Date

° = Office
e Product
e« Volume
e Value

The extracted data should then be transformed into the format required by the National Savings and
Investments.

3.1 Interface Diagram
The diagram shows the high level systems infrastructure involved with the interface.

The extracted data is initially dropped onto the POLFS server and an automated FTP pulls it across to
the EAI space whereby the data is transformed and sent onwards to NS&l.

Tniegraton Fab, /
Data Transtormaton Push to WS& from the
Date Gateway Date Gateway
fo \
/ \ rw
{ \ / \
EAI Intorret
- ow,
veal / Firewall ~
a (Mainframe)
CSC Nodhern Data Centre / \__NS&Iexemaly hosted)
\ POLFStONSE! interface I
Figure 1 Interface Diagram
©Xansa ple 2004 / 14 October 2004 Page 8 of 16 / Issue No: 0.1

File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

y
: Impact Programme: ro)
cabc J POL FS to NS&l co xansa

3.2 Data Fiow

The following schematic illustrates the data flow from POLFS to National Savings and Investments.

Toy FAD Code

al Savings & Investments Products:
from POLFS \
rn Deposits (ex-Cash Account Line 0005) )
S Hem tds 107, 108,11 1,173,894,895 _— oe

‘National Savings & Investments Products ~~
from POLFS
Withdrawals (ex-Cash Account Line 1062)
tem ts 164,165, 166,173,640 843,2672.4

Data Flow

Figure 2 Data Flow Diagram

©Xansa ple 2004 / 14 October 2004

Page 9 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc

Status: Draft
POL00038925
POL00038925

SS . ‘5
Impact Programme: CYoOKaNnsa
& QR Aru
abc, J POL FS to NS&l So

3.3 POLFS to NS&I Product Mapping

The following table identifies the POLFS source of data mapped to the National Savings and
Investments products.

POLFS I POLFS Item Description Ex-Cash NS&l Product Description
Item Id Account Line

107 NS & I Ord Acct Dep 0005 Deposits
108 NS &I Invest Acct Dep 0005 Deposits
111 NS & I Error Notice Dep 0005 Deposits
173 NS &1I Error Notice Dep 0005 Deposits
834 NS & I Ord Acct Intl Dep 0005 Deposits
835 NS & I Invst Ac Intl Dep 0005 Deposits
164 NS & I Ord Acct Wal 1062 Withdrawals
165 NS &1 Reg Cust Wdl 1062 Withdrawals
166 NS &I Invest Acct Wdl 1062 Withdrawals
173 NS & I Error Notice Wdl 1062 Withdrawals
840 NS & I Oth Cash Warrant 1062 Withdrawals
841 NS Oth Crossed Warrants 1062 Withdrawals
2672 NS & 1 Ord Acct Spl Wal 1062 Withdrawals
4218 NS & I Ord Wdl GT£100 1062 Withdrawals

Table 5 POLFS to NS&I Product Mapping

3.4 Data Overview

The interface files will be in flat file format. All data will be transferred in one or more files and each file
has a header record, data records and a trailer record.

3.4.4 Transaction Summaries

It is proposed that each transmission consists of a single header record, zero or more detail
records, and a single trailer record. A file will always be produced, with a header and trailer
record, even if there are no detail records.

The interface file will contain the following:
3.4.1.1 Header Re

rd

Header Office I Header Date Header Input Code I Header Week No I Filler

B4T2E

Office Code Date Input Code I Week Number I Deposits Withdrawals I Postmaster Indicator

©Xansa ple 2004 / 14 October 2004 Page 10 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
3.4.4.3 Trailer Record

POL00038925
POL00038925

y
Impact Programme: re Js
POL FS to NS&l (xansa

PIVOT Region Office Control I Date I Input Code Office Count Deposits Withdrawals:

3.4.1.4 Detim

Fields will be fixed length.

lf a Character field is empty it will be populated by spaces.

lf a Numeric field is empty it will be populated by zeros.

Each line will be ended with the character return of ASCII 10.

3.4.2 Data Types

The format of each of the data types is defined below.

The character set used is ASCII.

Type Size & Description

Pin) Packed decimal of n bytes.

9(n) ‘A numeric integer with a total of n ASCII digits (this is not binary).
X(n) An Alphanumeric of n bytes.

V Explicit decimal point.

A(n) An Alpha of n bytes.

©Xansa ple 2004 / 14 October 2004
File Name: DR $80104v0.1.doc

Page 11 of 16 / Issue No: 0.1
Status: Draft
POL00038925
POL00038925

y
Impact Programme: re Js
POL FS to NS&l (xansa

3.5 File Structure Overview
3.5.1 Transaction Summaries
The file structure for the interface file is illustrated below.
Note: This is the current interface file format and may change.

ete e eee eee Normal EBCDIC character representation.
0000000002024444444444444 Hex vertical i.e. the two digits making up the hex representation
000c000c0C2c0000000000000 of each EBCDIC character are directly under that character.

00000000
coodooce

08250000760

eeeeee DOB. cece eee eee Normal EBCDIC character representation
0001078706020000000000000 Hex vertical i.e. the two digits making up the hex representation
010C902c1Cc2c00000c00000cc of each EBCDIC character are directly under that character.
beens b@.%.....b.*.... 6%,

0002078706020008250000760
010c902c1c2c00621C00357C¢Cc

0417078706020006990007500
216200 0060cC

Normal EBCDIC character representation
Hex vertical ie. the two digits making up the hex representation
of each EBCDIC character are directly under that character

0010787060201

10C902C1C2CO0000CO0000CC

©Xansa ple 2004 / 14 October 2004 Page 12 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

y
Impact Programme: ro Js
POL FS to NS&l <p xansa

3.6 File Format

POLFS will provide a single original file per week (so the number reference will be 001). However, if
subsequent files are sent on the same day then the number will increase sequentially. The weekly
feed may include transactions that are in error — these will be corrected through the new transaction
corrections process. The corrected transaction will have the week when it was actually transacted —
there will be no reference to the original transaction.

POLFS will provide flat fixed length files.
All fields are fixed and will include leading zeroes where necessary.

All values are positive (no signs).

3.6.1 Transaction Summaries File Format

It is proposed that each transmission consists of a single header record, zero or more detail
records, and a single trailer record. A file will always be produced, with a header and trailer
record, even if there are no detail records.

3.6.2 Transaction Summaries File Name
The transfer filename structure is based upon the following details.
Note: Awaiting clarification of requirements.

File Type (Logical Name) File Name
TBD TBD

3.6.3 Transaction Summaries Header Record File Format
The format of the header record is specified as follows:

Note: This is the current interface file format and may change.

Field name Description Format Comments, Value
Header Office P(4) Value = Zeroes
Header Date P(4) Value = Zeroes
Header Input P(2) Value = 2
Code
Header Weekno I The processing week number I P(2) Processing week number
Filler Space filler X(13) Value = Spaces
©Xansa plc 2004 / 14 October 2004 Page 13 of 16 / Issue No: 0.1

File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

By . ‘5
Impact Programme: CYoOKaNnsa
& 4 .
abc.) POL FS to NS&l So

3.6.4 Transaction Summaries Detail Record File Format
The format of the header record is specified as follows:

Note: This is the current interface file format and may change.

Field name Description Format Comments
Office Code The Office to which the values I P(4) Office FAD code (no check digit)
relate
Date Week end date as defined by I P(4) Week end date (YYMMDD)
the POL calendars
Input Code P(2) Value = 16
Week Number P(2) The week number to which the details
relate
Deposits Value of the deposits P(6) Value of deposits (2 decimal places)
Withdrawals Value of the withdrawals P6) Value of withdrawals (2 decimal places)
Postmaster P(t) Value = 0 (Zero)
Indicator

3.6.5 Transaction Summaries Trailer Record File Format

The trailer record is produced on break of PIVOT region.

The format of the header record is specified as follows:

Note: This is the current interface file format and may change.

Field name Description Format Comments
PIVOT Region — : — P(2) 1-45" character of Office, followed by 0”
Office Control 50) Value = YY
Date Pi) Value = Zeroes
input Code P(2) Value = 21
Office Count P(3) Number of Offices output
Deposits Total value of deposits PO) Total value of deposits
(2 decimal places)
Withdrawals Total value of withdrawals P@) Total value of withdrawals
(2 decimal places)

©Xansa ple 2004 / 14 October 2004 Page 14 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
POL00038925
POL00038925

y
Impact Programme: ro Js
POL FS to NS&l <p xansa

3.7 File Types
e All fields are mandatory unless otherwise stated.
e Records should be sorted as follows

— Detail records in Branch Identifier order

3.8 Delivery Details
The proposed file transmission window is advised as follows:
Note: Awaiting clarification of requirements.

3.9 Volumes Anticipated
POLFS will supply an interface file per week.

Based upon sizes of the current interfaces from CBDB, the total number of records will be
approximately 16,000 records.

3.10 Interface Availability

The interface will be provided on a weekly basis, overnight. The file is expected each week and all
files should be received by National Savings & Investments by the specified time.

Note: Awaiting clarification of requirements.

3.11 File Transfer
Note: Awaiting clarification of requirements.
Acknowledgement processing in line with the current file transmissions should also be used.

3.12 Fallback & Exception Processing
To be agreed with National Savings & Investments.

In the event of a file being detected but upload or processing fails, an error is also logged and an alert
should be raised through systems management. It is assumed that any faults will be resolved in
accordance with agreed service level agreements.

File generation is the responsibility of POLFS.
Standard Error Messaging will also be used.

©Xansa ple 2004 / 14 October 2004 Page 15 of 16 / Issue No: 0.1
File Name: DR $80104v0.1.doc Status: Draft
SS

& ‘ Impact Programme:
Babe 4 POL FS to NS&l

3.13 Interface Security

To be agreed with National Savings & Investments.

3.14 Extract Rules
3.14.1 Data Validation
The following main data validation rules should be used.
Header Data:
« Awaiting clarification of requirements
Detail Records:
= Awaiting clarification of requirements
Trailer Data:
= Awaiting clarification of requirements

B14.2 7) sion Validation

POL00038925
POL00038925

There should be a file sent per transmission and the file is expected each week.

3.15 Load Rules

= Awaiting clarification of requirements.

3.16 Issues

001 Clarification of Awaiting details
requirements

National Savings &
Investments

©Xansa ple 2004 / 14 October 2004
File Name: DR $80104v0.1.doc

Page 16 of 16 / Issue No: 0.1

Status: Draft
