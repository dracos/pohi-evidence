                                                                                                                     FUJO0225940
                                                                                                                FUJO0225940



                                            Peak Incident Management System
Call Reference PC 0204310
C                                                         Call Logger
                                                                ogge          _Customer Call --BDSC '.,
Release        Targeted At -- HNG-X 03.20                 Top Ref             PCO206867
               HNG-X Data Centre Raised
Call Type                                                 Priority            B -- Progress Stopped
               Incidents/Defects
                                                                              Closed Programme approved No fix
Contact         EDSC                                      Call Status
                                                                              required
                                                          Effort (Man
T rge Date
Target                   10         ~::_:         ~                           0   -

Summary
   mm          Duplicate
                  p    e JSN detected
                                ect d
All References Type                                       Value
               Product Baseline                           BAL SRVOSRROUTING0320 V239                         .,. ,,..,,
                                                          BAL SRV OSR 0320 V238 &                                          .: }
                Product Baseline
                                                          BAL SRV OSR ROUTING 0320 V238
                Product Baseline                          BAL SRV OSR 0320 D239
                TRIOLE for Service                        2858551
                Release PEAK                              PCO20 867-              =
                Product Baseline                          BAL SRV OSR 0320 V239
                SSCKEL
                 SC                                       KELMi th vnh
                                                                    ataJ 1937S
                Dev nt e D rec,tor                        Livee Su Test
                                                                     et
                Product Baseline                          BAL SRV OSR ROUTING 0320 D239
Impact
                User                                      Date
Statement
               Unknown                                        02-Nov-2010 1622 59
               Support overhead currently 30 incidents in 5 days. Resoluton will mean that any future occurrences will
               have a different root cause and require investigation. Such incidents are currently getting masked by the
               volume associated with this Peak with consequential risk to the integrity of the audit trail used for litigation
               support.
Progress Narrative                  ..:• d .,. „ .... , ..: ...                . , .. , :. ,

 te:13-Sep-2010 18:56:56 User: Customer Call_
 LL PCO204310 opened
 tails entered are:-
 mmary:As per Catherine
 11 Type:J
 11 Priority:B
 rget Release:HNG-X 01.
 uted to:EDSC - Unassi



Date:13-Sep-2010 18:56:56 User: Customer Call
                                                                                                                     FUJO0225940
                                                                                                                  FUJO0225940

2010-09-13 18:51:39 [ Jayendrappa, Sunil Kumar]
zneun on_rmg : Open Notification

2010-09-13 18:51:39 [ Jayendrappa, Sunil Kumar
zneut en rmg : Transfer Notification

2010-09-13 18:52:44 [ Jayendrappa, Sunil Kumar]
FLD : FIELD='summary' OLD='OSR A0063 : [20560] : [112136-1-PP-0809-9] - Exception raised while processing message event - Serious
system error:[ Duplicate JSN detected - failed to insert journal record   NEW='As per Catherine Obeng Reopen: OSR A0063 : [20560]
[112136-1-PP-0809-9] - Exception raised while processing message event - Serious system error:[ Duplicate. JSN detected - failed to
insert journal record

2010-09-13 18:53:30 [ Jayendrappa, Sunil Kumar]
LOG : Node name /Server name     GRO
Service Details:

 SR A0063 : [20560] . [112136-1-PP-0809-9] - Exception raised while processing message event - Serious sysLen. error:[ Duplicate JSN
detected - failed to insert journal record ] Caught Exception inclass com.fujitsu.poa.bal.osr.event.RequestEvent:Thread def
Date : 8/9/2010
Time of accourrence : 10:07
KEL : MithyanthaJ1937S

2010-09-13 18:53:58 [ Jayendrappa, Sunil Kumar]
LOG : Old Peak Provider Ref: PCO204088

Jonnalagadda, Naresh 08/09/2010 17:03 00:00:41 Field Update
FIELD='zCloseCategory' OLD='' NEW='RMGA.O Operational.OP02 Central Systems Software failure'FIELD='zinclocode' OLD='' NEW='Admin'

Jonnalagadda, Naresh 08/09/2010 17:03 Transfer Notification - REGA
Transfer Notification

Jonnalagadda, Naresh 08/09/2010 11:03 Notify End User Closed EN RMG
Closure Notification

Jonnalagadda, Naresh 08/09/2010 17:03 Close
KEL : MithyanthaJ1937S - issue resloved hence closing this call

POWebService, 01 08/09/2010 17:01 Notify End User Resolve EN RMG
Resolution Notification

POWebService, 01 08/09/2010 17:01 00:00:00 Resolved
Status changed from 'Open' to 'Resolved

POWebService, 01 06/09/2010 17:01 00:00:00 Delay Service Type
The Service Type(s) on a ticket were delayed

 TI 08/09/2010 17:01 00:00:00 OTI Resolved
Provider Ref: PCO204088
Resolution Details: Update by Catherine Obeng:Category 67 -- Final -- Solicited Known Error:This is a known problem where a request
times out in the meantime, a retry with the same request Id success. As per above mentioned KEL, because the 1st message was
rejected as a duplicate, there are no implications on the integrity of the data and therefore no issues of concern. Please close
this call as KEL.

 TI 08/09/2010 10:20 00:00:00 OTI Provider Status Update
Update by John Charlton:Call routed to Team:EDSC Member:Catherine Obeng


2010-09-13 18:55:16 [ Jayendrappa, Sunil Kumar]
TR : Please investigate.

2010-09-13 18:55:48 [ Jayendrappa, Sunil Kumar]
zneut en rmg : Transfer Notification



Date:14-Sep-2010 08:10:50 User:Lorraine Guiblin
Reference Added: SSCKRT• Mi thy.anthaJ l 9775


Date:14-Sep-2010 08:12:06 User:Lorraine Guiblin
Product HNG-.X Platforms -- RAT, Server (RAT.) (version unspecified) added.



Date:14-Sep-2010 08:12:28 User:Lorraine Guiblin
The Call record has been assigned to the Team Member: Catherine Obeng
Progress was delivered to Consumer
                                                                  a




                                                                                              a




                                                                                                  .




Dato:14-Sep-2010 10:29:47 User:Catherine Obeng
[Start of Response]
Below is the output from the BRSS when I run the query described in the KEL.

SQL> select journal_header
2 from ops$brdb.brdb_rx_message_journal
3 where FAD HASH = 13
4 and BRANCH ACCOUNTING CODE = 112136
5 and JOURNAL SEQ NUMBER = 2454507
6 ;
                                                                                                                                      FUJO0225940
                                                                                                                                   FUJO0225940
  UKNA I._H KAI1h5
  ------------------------------------------------------------------------------------
  ST: LabclEvcntServicc
  thorizatien-Signature:
  HgVopuXXYwvzgft25FDzerSpdajrpbky+kniKjvVKMfXrEkg5PeFggoBMZHF04z/SDDISFYmOhdplIwCgsFllPkiPLuunvojTUupzKLGYXixlAiFUti/AJ7bAUiZ6g0I31
  yB2VAioYc/Rqu9Sd99Pw9YlwwcpaOjkpKXg6vA=
  ntent-Length: 864
  try: true
  gMessagelD: 112136-1-PP-0809-10
  ntent-Encoding: gzip
  N: 2454507


In discussion with Andy Thomas this morning, I will gather evidence from the OSR/BAL logs before forward to 4GDC.
[End of Response]
Response code to call type J as Category 40 -- Pending -- Incident Under Investigation
Response was delivered to Consumer



Date:14-Sep-2010 12:34:30 User::Catherine Obeng
Evideu   Added - O1 mes — File will be Obfuscated and made available Lu download soon.


Date:14-Sep-2010 12:35:08 User:Catherine Obeng
Eviden,:( Added - 01 puc - File will be Obfuscated and made available Lu download Noun.


Date:14-Sep-2010 12:36:56 II: r :Catherine Obeng
Evidence Obfuscated File (CTRMSG) Added - NvdeOl Mea Lug


Date:14-Sep-2010 12:37:39 U:i,gr:Catherine Obeng
Evidence Obfuscated File (CTRPOC) Added - Node01 PLC Logs


Date:14-Sep-2010 14:36:51 User:Catherine Obeng
[Start of Response]                                                        ._._._     ._._.
Currently awaiting evidence gathering from the ACE Blade, platform Id isL_._._._._ORO       _      in order to determine message queues,
authorisation messages etc.
[End of Response]
Response code to call type J as Category 40 -- Pending -- Incident Under Investigation
Response was delivered to Consumer
                                                                sl   vv.         Z                       Pti$       &    at$               w .




                                                                                                                                                 pis
Date:14-Sep-2010 17:02:58 User:Catherine Obeng
Evidence Added - --  Blade     File.
                                   Loo




Date:14-Sep-2010 17:04:26 U:;. r:Catherine Obeng
[Start of Response]
Requested evidence is now attached. QFP please route onto to 4LSiG
[End of Response]
Response code to call type J as Category 40 -- Pending -- Incident
Response was delivered to Consumer



  te:14-Sep-2010 17:04:33 Ii  :Catherine Obeng
  e Call record has been transferred to the team: QFL                                      < ..,
                                                            _              .         .
                 a   i;..oroa,+   ra     ,                                                                      .       _. .,.




Date:15-Sep-2010 08:19:17 User:Ravindra Kumar
The Call record has been transferred to the team: xOSR_GDC
The Call record has been assigned to the Team Member: Jeevan Mithyantha
Progress was delivered to Consumer



 ate:16-Sep-2010 12:24:02 User:Jeevan Mithyantha
 his peak has been raised due to "Duplicate JSN" issue occured in BAL/OSR while processing "LabelEventService                    request

 rom the DB record, its been clear that JSN "2454507" was inserted due to request id "12136-1-PP-0809-10".

 rom the counter message logs, we could see that "12136-1-PP-0809-9" and "12136-1-PP-0809-10" both had same JSN, since "12136-1-PP-
 809-9" was timed out.

  think this is the issue with late arrival of the request in BAL/OSR (not sure thogh).

ndy has suggested to look into ACE blade logs, to check whether the OSR instances for which these requests had gone to were
istening/wcrking normally.

 o investigate further on this, I would like to have OSR message.log & osr.log extract for request ids "12136-1-PP-0809-9" & "12136-
 -PP-0809-10".
                                                                                                                                                                                                                                   FUJO0225940
                                                                                                                                                                                                                            FUJO0225940

 12136-1 -PP-080+-10" han gone to •i-•-•-•-
                                   ;        GRo                                          )055)           Wnt sore               hoot
                                                                                                                               a_            the       oter    one.




Date:16-Sep-2010 12:27:56 User:Jeevan Mithyantha
The Call record has been transferred to the team: EDSC                                                                                                                                                                                    N             N
User:Jeevan Mithyantha Confirmed that this Incident may be passed to the external company with the attached evidence
Progress was delivered Co Consumer




1) l_r=:16-Sep-2010 12:28:40 U.  :Lorraine Guiblin                                                                                                                                                                                                               ! .
The Call record has been assiji,ed    l I ho team Member: Catherine                                                                Obeng              ,:                                                                                                    ,.•,,,~;`
Progress was delivered    to Consumer

                                                                                              , » ti.                                                                                                                              .' S•
                '~.~'ft?~' N9'~
    kC"~~~~"m>'?sx          ~*. 'à~Y'a,"~.-~"°~o.~'~.
                                                    ":b9*:s,:   . "~45m".+~..^~`'ra'*Y
                                                       _3.. ~'' SM                 n s~,"i i~~41.  >~   ~"   •e~ "`~;xai~;s~,S'*.~R'',nil§; ~a°Fic.
                                                                                                                                                ~•          '~
                                                                                                                                                       pM~~F~"`~t3~
                                                                                                                                                                  '~k̀    ~~'~;' k.'E
                                                                                                                                                                    ,"G':+`~          a
                                                                                                                                                                                  ~a,~l,~!~'"°~v~~y~
                                                                                                                                                                                                   ~"e~~~~~"'v~+~~           ta'      C•'\,'":~,"3r5n•i~`~:s~>{ya°
                                                                                                                                                                                                                                         ~l"~, ~'~~,~,fc

Date:20-Sep-2010 09:52:38       Catherine Obeng
Evidence Added - 112136-10 me=;ad.Lxl - File wi ll be Obfuscated and made available to download soon


  te:20-Sep-2010 09:53:44                               :Catherine Obeng
  idence Added - 1,    I .r                           .Yoi.i-lU                                                                                  _                                           - :.:: . .. . .. .:..r:   ..   ;::.                . . . .. :€


     20-Sep-2010 09:59:25 U:.,.,i :Catherine Obeng
     nce Obfuscated File (BALMSG) Added -          -1-PP0809 10 .


Date:20-Sep-2010 10:07:17 User:Catherine Obeng
[Start of Response]
SAL osr/message logs for MesgRgstlD 12136-1-PP-0809-10 are now attached. Returning call to
[End of Response]
Response code to call type J as Category 40 -- Pending -- Incident Under Investigation r'3i+x(
Response was delivered to Consumer




  te:20-Sep-2010 10:08:29 User:Catherine Obeng
  e Call record has been transferred to the team: xOSR_GDC
  er:Catherine Obeng Confirmed that this Incident may be passed to the external company with the attached evidence.
  ogress was delivered to Consumer




 ate:21-Sep-2010 08:46:39 User:Jeevan Mithyantha
  have requested OSR logs (both oer.log & OSR message log) for request ids "12136-1-PP-0809-9" & "12136-1-PP-0809-10".

 ttached logs contains the extract for request. ID "12136-1-PP-0809-10", but missed the logs for "12136-1-PP-0809-9".

 lease extract the same for request id                                        12136-1-FP-0809-9




  te:21-Sep-2010 08:46:54 User:Jeevan Mithyantha
  tion placed on Team:xOSR GDC, User:Jeevan Mithyantha




  te:21-Sep-2010 08:47:11 User:Jeevan Mithyantha
  e Call record has been transferred to the team: EDSC
  er:Jeevan Mithyantha Confirmed that this Incident may be passed to the external company with the attached evidence.
  ogress was delivered to Consumer




  te:21-Sep-2010 09:01:12 !!:r.%.r:Lorraine Guiblin
  e Call record has been assigned to the Tear:: Member: Catherine Obeng
  ogress was delivered to Consumer




 ate:21-Sep-2010 10:39:05 User:Catherine Obeng
 he call summary has been changed f.rxn:-
 s per Catherine Obeng Reopen: OSR A0063 : [20560] : [112136-1-PP-0309
 he call summary is now:-
 ranch 112136 Duplicate JSN 112136-1-PP-0809-9 Exception raised




  te:21-Sep-2010 15:52:37 ll:.ci. :Catherine Obeng
  idence Added - 112136_9_MesLogbk - File will be Obfuscated and made available to download soon.


  te:21-Sep-2010 15:54:23 u. :Catherine Obeng
  idenc  Added -  ~yoor tt`.Easi i


  te:21-Sep-2010 15:55:04 U: r :Catherine Obeng
  idence Deleted - RequestMesld 112136-1-PP-0809-9                                                                                                                                                               .




IDat_e:21-Sep-2010 15:55:50 User:Catherine Obeng                                                                                  1b3                 . fhr LoSS                                                 '          \                                 w    y
  vidence Added - OSRLogs u>r RequestMes_d 112136-1-PP-0809-9
                                                                                                                                                                                                                                                               „ ~P
                                                                                                                                                                                                               FUJO0225940
                                                                                                                                                                                                            FUJO0225940
     :21-Sep-Zulu lb:ul:u1 User:Catherine Obeng
     Once Obfuscated File (BALMSG) Added     ;                          M   II 1121 9-I-P -


Date:21-Sep-2010 16:05:14 User:Catherine Obeng
[Start o` Response]
Kore evidence has boon gathered and attached hero. Returning call to $LS
[End of Response]
Response code to call type J as Category 40 --Pending  -- Incident Under Inves LiyaLwii -'~el                                                                    '.~'•4,a'"'?~^°F'~~ ~"~
Response was delivered to Consumer



 ate:21-Sep-2010 16:06:19 User:Catherine Obeng
 he Call record has been transferred to the team: xOSRGDC-
 ser:Catherine Obeng Confirmed that this Incident may be passed to the eixternal'°company wlf'h' ihe atf'ached'
 rogress was delivered to Consumer




 n order to get rid of these kind of errors/exceptions due to delayed arrivals, we could modify the code in BAL/OSR side.

 n MessageJcurnalDAO, if SQLException occurs (i.e. if a JSN already exists in BRDB, then system will check the journal xml contents
 sly if its a retried request.

 nstead, we could check the journal xml contents irrespective of retry or original request. If the contents are same, then we could.
 void th-owing exception from OCR side and could be ending up in a warning message                                       ti

 nyhow, Lion counter side this won't affect am/thing, since original request would have Limed out and retried one will be                                                                                                  <`
 uccessful.                                                                                                                                                                                                               \



   e:22-Sep-2010 14:24:51 Uses;,leevan;                        anther
   ting to Venu for review
                                                                                                                                                                      '.F....-

     :zz-sep-zvly l9:za:vu user:,eevan mitnyantna
     Call record has been assigned to the Team Member: Venu Anamal
     ress was delivered to Consumer



 ate:23-Sep-2010 08:49:35 User:Venu Anamalla
 looks like the root cause could be similar to peak PCO203208 (OSR paused for some time).

 nit, this peak could be used to address how to avoid Duplicate JSN issue, when it occurs in similar manner to the one mentioned in
 his peak.

 nyhow, we are addressing the OSR imbalance/pause problem in peak PCO203208.




  te:23-Sep-2010 08:50:07 User:Venu Anamalla
  e Call record has been assigned to the Team Member: Jeevan Mithyantha
  ogress was delivered to Consumer



 ate:23-Sep-2010 09:19:22 User Jeevan Mlthyantha
 EVELOPMENT IMPACT OF FIX

 PECIFY THE HNG-X PLATFORMS IMPACTED .                 Sc . s*Ys, l                           .                   r ~'"           ~fi , *~
                                           ... ..,. ,..:.<:.::::.. . ..,. , ...~..   . . .. .         .,,...:.tea.,... :.,...rte...., ...                 In a:
 s Platforms de aids updated    YES-                                ~                                        ..                                                     `                           p' v~~~.:`'ah+ ~,~i
                     .. . '-           '.:,N~ '~".`" , k"t.T .'~97 ?~~~,00~1?
                                                     •                               M :1x~`.~ ~~~-'.   ~;~;     ~~' ~ :o~tiG~` '                          c
                                                                                                                                             ctii~~~~5~~ ~ ~1'ii "A~~`~.'e , <'~ ~o.C'fi"?
 ECHNTCAT SUMMARY_                                                                       -                                                                       4~       •.\'`~' ,~ .:,'   `'' r    . ~c
 ethnical details  explained            above. This fix         would affect         1       java file                                          \-          an                In an

 IST OF KNO[nN DIMENSIONS DESIGN PARTS AFFECTED BY THE CHANGE
                                                                                                                                                                                                                                                                                       FUJO0225940
                                                                                                                                                                                                                                                                                FUJO0225940

               2 1NPACT:




    S THE"'FIX'REOUIRE"ANY MANUAL'DEPLOYMENT"


  V
                                                                                          ,~.a,5":a? :'~~ ~~~IeGri3~3~~'"~'~r.'i*~\               ~      ~~ ~~ ' ' °a `S:n,~ ' '~ ..:? ~ °:'z ~ 5~~4`,                      `l           ~           .~ ra?ar         ~F '+~" \ a. , s~:,                '^ •„~1 \..i..~,r''•
                                                                                                                4±*•'?                                                                                                                   '. T.                                                          y;,'    %,;
                                                                                              n           ^!.            :1:,"4.\fi       ~.:EA   M.za                 '+''k'c'~:        il      vrq,        +'   1T.`i     'a. ~+ce;                ,~i..:
                                                                                                                                                                                                                                                                          i%'~•r'ti~
                                                                                                                                                                                                                                                                                              ,a                      '"`?R,   q•,
                                                                                                                                                           •L»:~   =',~.
 [PACT ON L _ ER.                                                       _..... . . ..> _...... .. . . .. ;~....... . . ... . .. .. . ......--......> _ -,... ...                          .. _.,.... .:... ..`... 3,.....             ..tea: . .:v .,.    ~~S~a                       ~:, i
                                                                         .,_'1p ri<=n ~,"k~:.                   .kv~+": ,,,. a,i           (                 ~. rx. ~ , ~~.)+.':x^.                                          •F~`G'z,a"?`:I,,~W                 ~.:.~' :~'C$;`bl'?a'          :''?
 .ere run t any direct lmpact       ac                   h u e ._......_....._
                                                        the                                       •?
                                                                                                             .......~           ..,,-...,h~,.1                ,..... .      ........ ..',`._. .\"..,                        ;-..-~:> : •. t+ma           r61St


                      ,., ."di&.r;,: .k~:... ... ~;.. k -~.°.F..
                     --~                                 :-+cx-.R-
                                                                 ~": :)r.. .~~~    •w:'. ~\                                       . ...."t>
                                                                                                                   7a ", >t'+'a' *~~'\
                                                                                          .. ;,... ... \:~`:`£~;".i3+.~                "~'          ..... ~~`\'h
                                                                                                                                               .:.'~^~nfS:. ,::....~.a~
                                                                                                                                                                 9a,   1"~s̀°.    l '~ 'v'0+
                                                                                                                                                                                       ,.~1~,~: .              1~a` ,.,..' i~ T~.,:~~`a ii^%~ti~
                                                                                                                                                                                                          "i~'>~~~~;.1`                                ~.. . ~~~5~.~1.<:.         `Ai•, n~ ~. ~:~~
 [PACT ON OPERATIONS.
  nefiL of fix that inay not visible to end user,                                                                                       ~".°`
  With this fix, we could avoid throwing Duplicate JSN exception;''ili'case if the JSN wasinserted by similar request i.e. with same
  urnal message contents.

   have observed many scenarios in LIVE, where the retried request executed before the original request in BAL/OSR, due to delay in
  rival of the message in BAL side. So, during this time to avoid Duplicate JSN issue, this fix would be important.

  VE RELEVANT EELS BEEN CREATED OR UPDATED?                                                                                                                                                                                                                                                  ~'?' `'`•'`:::~;"':
  5 .



      ACT ON HORIZON TO HNGX BRANCH MIGRATIONS


 [PACT ON TEST:
 .at independent test                          coverage/scenarios                        does development recommend?

  We could recreate the scenario mentioned in this peak, by starting OSR in DEBUG mode:         ~~   == `:•:
  Do a settlement transaction with any product in the basket, say lit class stamp.              i         ., ;,v"2' nx,'•c Y u Q ~~"'                                                                                                                                                                                     ',",.~„
  Put a breakpoint in OSR, where the settlement request thread will suspend for some time
  Settlement will time out in counter side and retry request will be sent to OSR.                       s
  Execute the retry request normally in OSR.
  Counter will get response and settlement will be completed normally.
  Now, execute the original settlement request in OSR. Will get SQL xception for duplicate JSN entry, but with the ew fix, it
  ould log a warning message and will stop executing in filter stage itself
                                                                                                                                                                                    'I   S z a              y.    'Na             t6,e           1      8L'     ~~.~." ,•t>`F3 is hC   'SE     6'ru ,                    ' `
                                                                                                                                                                                                                                                                                                          Ib~
  at CIT test coverage does development recommend?
  In CCIT, this particular scenario can't be tested, since we can't reproduce the late arrival of the request in OSR side~SS ~,~,ar

 SKS (of releasing and of not releasing proposed fix)    ._-`„~     ,   Y    ~~        \       1O                                                                                                                                                                           a                y'
                                                                                             -               t
  x is of low risk.
 •en though there won't be any direct impact on the end user, RISK of not releasing this fix would be medium.

  ST OF LIKELY DELIVERABLES                                                                                                                                    :r~\
                                                                              a            a ~~3           n     ~                    i               ~r ~             F                                k          k             _
                                                                                                                                                                                                                                  eat $@                fi      ~ ~v             q                "n,
  ssa eJournalDAO. ava     ,..<. .                                 ..    ..                ,.                   .. .                                     s.<., ..   .• . ..              ... _                    a•::..,



        :23-Sep-2010 09:20:03 User:Jeevan Mithyantha
        ing to Venu for review.



  te:23-Sep-2010 09:20:11 User:Jeevan Mithyantha
  e Call record has been assigned to the 'team Member: Venu Anamalla
  ogress was delivered to Consumer



Dat; :23-Sep-2010 09:49:04 Ur:^r:Venu Anamalla
[Start of Response]
Fix Impact looks ok.
[End of Response]
Response code to call type J as Category 41..,
Response was delivered to Consumer<:i'5:c•'ia =cs: :



  te:z -bep-zuiu xx:3u:14 user:ue
  e Call record has been assigned
  ogress was delivered to Consume



  te:24-Sep-2010 13:09:13 rlc^r:Jeevan Mithyantha
  GX CODE FIX


  X DESCRIPTION
  scribed Above.
                                                                                                                                                                                      FUJO0225940
                                                                                                                                                                                 FUJO0225940

 ist changed files indicting if each file was added, updated or deleted. If no files changed, state None.

 OUNTER REFDATA FILES CHANGED
 one.



 HARED CODE FILES CHANGED
 one.

 AL JAVA CODE FILES CHANGED

 )MessageJournalFilter.java
 )MessageJournalDAO.jave

 2L FILES CHANGED
 one.

 THEE FILES CHANGED
 one.

 PPROPRIATE CODE COMMENT:'
 es.

 EPENDENCTES
 one.

 ELATED PROBLEMS
 one.

 NIT TESTING EVIDENCE
 creen shot of successful execution test cases has been attached.

 iso, did manual testing as described above in the fix impact. Attached log extracts.

 EGRESSION TEST CLASS
 essageJournalFilterTest.java

 ACKWARDS COMPATIBILITY
 /A - Framework change.

 EVELOPMENT DOCUMENTATION
 one.

 EQUIREMENTS DOCUMENTATION


   P




  te:24-Sep-2010 13:12:17 User:Jeevan Mithyantha
   part uL regressiun test, we had alread a test class named MessageJournalF'ilter`Pest. To the same, I have included a new test case
  med "testDuplicateJSN PCO204310" to test the scenario in this peak.



Date:24-Sep-2010 13:12:45 C,sr:Jeevan Mithyantha
 video:  Added -   .~  V      -   toi-~


Date:24-Sep-2010 13:12:59 User:Jeevan Mithyantha                                                                                                                                                           'A!.
 ,videnca Added - i st :viclence
                                                                'i\
                                                               sq     YZ   A ar   .pai   chf YAx   a    1M   0   „ -AT:",~     ..    "e    S   -kl't)hl"""' @ MO r
                                                                                                                                                               Y     ee   Fiai   am m2 i   q1'   C+.   S



Date:24-Sep-2010 13:13:18 11:r..,r :Jeevan Mithyantha
Evident, Added -       .vi          -


Datc:24-Sep-2010 13:13:42 Usex:Jeevan Mithyantha
Rout .nn t.   u        m
                                     8Yati"2a s,, ke ~i~+~ `   '%rttNFm Mo-sa4pl'L'                fF                  tG8m1   zt0. w.v i r 9a¢r


  te:24-Sep-2010 13:13:51 User:Jeevan Mithyantha
  e Call record has been assigned to the Team Member: Venu Anamalla
  ogress was delivered to Consumer



       :u4-ucr--Lulu1L:u7:.  user:venu a
        fix template looks plausible.

        catches and test details are OK.




  te:04-Oct-2010 12:09:45 User:Venu Anamalla
  e Call record has been assigned to the Team Member: Jeevan Mithyantha
  ogress was delivered to Consumer
                                                                                                                                                    FUJO0225940
                                                                                                                                                 FUJO0225940
Date:08-Oct-2010 10:23:01 User:Jeevan Mithyantha
[Start of Response]

[End of Response]
Response code to call type J as Category 46 --          Pending --    Product Error       Fixed
Response was delivered to Consumer



Date:19-Oct-2010 15:11:52 User:Martin Tonge
  new Business Impact has been added:
This Peak will reduce the support overhead because it will reduce tie number of alerts associated                             with duplicate     JSN's. it will
also mean that any future occurrences will have occurred for a different reason and would require                             investigation.     Such incidents    ai
currently getting masked by the occurrences associated with this Peak.

There is no immediate benefit       to the customer other     than support      engineers    no longer       need to worry about these         types of alert    and
can focus on other alerts.

Currently   this   type of error   generates   a relatively   high frequency of Alerts            on a daily    basis,    masking other   types    of error.



Date:20-Oct-2010 15:52:02 User: Customer Call_
Last Occurrence    Node   Summary   Severity      Count
20/10/2010 15:47:25       GRO    _  OSR A0063 : [20559] : [318518-3-I0-2014-26] - [ Duplicate JSN detected - failed to insert
j uurnal record   Caught ExcepLion inelass corn. fujlLsu.pop.bal.osr.evenL.RequesLEvenL:Tlir:ead generic _brdb_queue puol-12-Lhread-12
Service URI: GenericBRDBModification     Critical     1



Date:22-Oct-2010 12:20:11 User:Prashanth Pamidimukkala
Product HNG-X Platforms -- SAL Server (BAL) (version unspecified)                added.



Date:22-Oct-2010 12:20:32 User:Prashanth Pamidimukkala
The call Target Release has been moved to Proposed For --            HNG-X 03.20



Date:25-Oct-2010 12:27:05 User:Prashanth         Pamidimukkala
 ction has been removed from the



Date:25-Oct-2010 12:28:00 User:Prashanth         Pamidimukkala
 ction placed on Team:RelMngmntFurum



Date:27-Oct-2010 14:11:41 User:John Boston
The call Target Release has been moved to Targeted At --             HNG-X 03.23



Date:27-Oct-2010 14:11:53 Ucer:John Boston
REF 26/10/10 Agreed - Targeted for 03.20.



Date:27-Oct-2010 14:11:56 User:John Boston
 ction has been removed from the call



Date:02-Nov-2010 16:17:18 User:Steve Parker
The call sunrnary has been changed from: -
 ranch 112136 Duplicate JSN 112136-1 -PP-0809-9 Exception raised
The call surrrnary is now: -
Duplicate JSN detected



Date:02-Nov-2010 16:22:59 User:Steve Parker
The Business Impact has been updated:
Support overhead currently   30 incidents  in 5 days. Resoluton will mean that any future occurrences will have a different   root cause
and require investigation.   Such incidents are currently    getting masked by the volume associated with this Peak with consequential
risk to the integrity   of the audit trail  used for litigation    support.



Date:02-Nov-2010 16:26:34 User:Steve Parker
03.20 is not due until early next year. Given an average of 30 calls                / week this       will    result     in approx 300 support     incidents    before
resolution representing 100 MD effort at 3rd line.



Date:15-Nov-2010 15:07:17 Ucer:Jeevan Mithyantha
 pplied patches to CTR03_20_00_RELEASE and smoke tested           successfully.

Following file     has been committed to CTR03 20 00 RELEASE branch.

1) MessageJcurnalFilter.java     -- 1.28.14.1
2) MessageJcurnalDAO.java -- 1.7.48.1
3) BranchAccessFilters/junittest/MessageJournalFilterTest.java             --   1.15.164.1
                                                                                                                                                                                                                                                                                 FUJO0225940
                                                                                                                                                                                                                                                                        FUJO0225940
4)    HranchAccessr'1 Iters/Jnni ttest./heant actnry.xrn I                                                                  --         I .YU.H.             I




Date:16-Nov-2010 08:09:00 tJser:Jeevan Mithyantha




Date:16-Nov-2010 08:09:13 U:.
                            - er::Jeevan Mithyantha
The Call record has been transferred to the team: xCtr RELGDC
Progress was delivered to Consumer            .__:                                                                                                                                                 :                     r




Date:22-Nov-2010 10:57:22 User:Kishor GaneshRao

Rig: 4LS CCIT
                                                                                                                             4 :' <.     +c~~Z"\rX~. S' '
                                                                                                                                         ~~
                                                                                                                                                                R"F2z, 'sY


Release.   BAL03.20.00.OD
 a.,elrne.  BAL SRV OSR 0 320 V238 & BAL SRV OSR ROUTING 0320V2 38r ~a,;ti~;':        ::..<. . ,.:.. ,_;'sue,i~~.:'~;::~~~~`5.,~?>~i~;^,~~nz
                                                                               -~~ ~•r~?;~N~'~',~:,,.''~;;;.~>,,'~~:•                             Y_.;,~~~;   .~~• ?M '} ~~ ~e~~~.: <;i;~ . ~~n,,
                                                                                                                                                                                             `'~~.;=~"'"      ~;`: '?v.r.~.,.:
                                                                   •.-;., ..;:-~.                                             ,~y' ~.v ~.J_. ..,:~        A..                                     ..    ul_ .~~e,...^3:.
                                                                  .... . ~~.       ..X.....     . .. _. ..... .. .. ..  ..z ...\.._. .. . .     ..~.. ....~v                 -                  :1.~....        CCU: ~
                                                                       •~.,,t           ~-_
This peak has not been verified    in 4LS CCIT due to the fact that
                                                                h        i     i s • not re rod ci                        -'       .'"'~    h `~ ~             '"*.`~     ~d       '-''`'' ' `:•'%          ~".~`.'"'~"'~a"'
                                                                                                                                                                                                                     ff ~"."•.

In CCIT, this particular scenario can't be tested, as we can't reproduce the late arrival of the request in OSR side

                                                                                                                                                                                                                                                         50     es     so
But note               that         this          has been successfully                                tested             in      the       GDC DEV rig                      by using      the         Debug option

          a        H
                       :'
                         iSF                                               x ~                                  4                                     \-:<            \        ~j a -<                              1 - ~9.~7k             7'
                                                                                                                                                                                                                                     til, . °c',+l`ia~ae+`~' Z
                                                                                                                                                                                                                                                              ~~ "•tit' : :~~~~'.`"• `•a~`C,.i
                                                                                                                                                                                                                                                                                        ~~,      @          Vii;
                                                                                                                                                                                                                                                                                                     v:~;:Z ~.
      .> ... _..,.. ._ :aw..                      .. r+..1 .>k :-
                             ..,.....A ,.k."e ... .~                 'N'
                                                                    ...... . ... _~.... ~£ . ~ ,N+
                                                                                               _\...   .,.< .       .. . .L~....;"s`+ti'~~34
                                                                                                                                   . .. .    ..                                          ~,'   \        ~ . .fie:            ;:: ~:';;,,_>-                  kar




Date:22-Nov-2010 10:57:46 User:Kishor GaneshRao
Reference Added: Product Baseline BAL SRV OSR 032Q V238 &BAL SRV OR                                                                                                             ROUTING 03 0 V238
                                                                                                                                                  5    5




     Lc:22-Nov-2010 10:57:48 User:Kishor GaneshRao
       Refe-ence set Lo: Product Baseline BAL SRV OSR 0320 V238 & BAL SRV OSR ROUTING 0320 V238                                                                                                                                                 e       '!           ~'- ----~           -




Date:22-Nov-2010 10:59:21 User:Kishor GaneshRao
N:X RELEASE CHECKLIST



FIX IMPACT TEMPLATE FULLY COMPLETED?
Yes

RMF APPROVAL GRANTED?
Yes

CODE REVIEW TEMPLATE FULLY COMPLETED?
Yes

CODE REVIEW PASSED?
Yes

CODE CHECK-IN BRANCH SPECIFIED?
Yes

 LL CHECKED-IN FILES HAVE PEAK REFERENCE IN CVS COMMENT?
Yes

FIX PASSED CIT AND REGRESSION TESTING?
 O, this fix has not been verified in CIT due to the fact that we are not able to reproduce the same, but note that this has been
verified successfully in GDC DEV rig by the developer.

EEL UPDATED TO REFLECT PEAK FIX?
Yes

CIT TEST SCRIPT UPDATED TO REFLECT PEAK?
 Jo, due to the fact that the change cannot be tested in CIT.

CIT TEST. RESULTS PUBLISHED?
Yes
  FUJO0225940
FUJO0225940
