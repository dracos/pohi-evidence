FUJ00176482
FUJ00176482

Peak Incident Management System

Call Reference PC0286014 Call Logger _Customer Call_ -- EDSC
Release Targeted At -- HNG-X 21.16 Top Ref AUDIT EXTRACT CLT_V2_ 2116 D011-D010
Call Type Live Incidents Priority C -- Non-critical
Contact EDSC Call Status Closed -- S/W Fix Available to Call Logger
Target Date 09/02/2020 Effort (Man Days) 1.00

INC4620612 : TWS 100 : [ID 702911 user.error] B AUD_SEAL_ STRT2.SEALER_STARTB
Summary

(#379116).
All References Type Value

Jira POA-3147

Product Baseline
Product Baseline

AUDIT _EXTRACT_CLT_V2_2116 VOL1-V010
AUDIT EXTRACT CLT V2 2116 D011-D010

Clone Call PC0286042

Problem Incident ‘PC0286180

Jira POA-3150

Product Baseline AUDIT_EXTRACT SVR_V2_2116_V023
Release PEAK PC0291894

Jira ‘POA-3139

Jira POA-3151

Product Baseline AUDIT_EXTRACT_SVR_V2_2116 V023-V022
SSCKEL KEL gbar2750L

Call reference PC0290139

Release PEAK PC0291895

Jira POA-3148

Product Baseline
Product Baseline

AUDIT EXTRACT CLT V2 2116 VO11
AUDIT EXTRACT SVR V2 2116 D023-D022

TFSNow INC4620612
Clone Call PC0286041
SSCKEL KEL gbar27S0L
Collections Name User Date
BIFApproved Adam Harney 26-Aug-2020 12:14:17
-SSCAdm Darran Avenell 04-Feb-2020 07:57:10
Impact Statement User Date

Gerald Barnes 19-Aug-2020 19:31:57
The audit system cannot store files bigger than 2 gig at present.
Progress Narrative

Date: 04-Feb-2020 06:51:40 User:_Customer Call_
cALL PC0286014 opened

Details entered are:-
lsummary:INC4620612 +
call Type:1

call Priority:c

TWS 100 : [ID 702911 user.error] B_AUD SEAL STRT2.SEALER STARTB (#79116) .

target Relea:
routed to:

ING-X Rel. Ind.
= _Unassigned_

JDatc:04-Feb-2020 06:51:39 User: Customer Call_

[INCIDENT GEMENT

Date/Time Raised: Feb 4 2020 3:49AM
Priority: C

contact Name: POA SMC1

contact Phone:

originator: XXXXXX@TFSO1
riginator's reference: INC4620612

FUJ00176482
FUJ00176482

Product Serial No?
Product Site:

servic

Business Services I Platform: Solaris Host (M4000) I Server:

serve Below batchman alert on RAD:

TWs 100 : [1D 702911 user-error] B_AUD SEAL STRT2.SEALER (#979116). has ABENDED 04/02/2020 03:41:44 1

KB: NarasaiahV558R (Generic)
caller : POA SMC1
caller Contact :
configuration Item
Location:

jDate:04-Feb-2020 08:00:03 Uscr:Darran Avenell
Product HNG-X Platforms -- Audit Server (ARC) (version unspecified) added.

JDate:04-Feb-2020 01
[Start of Response]

IPRESCAN
comments:
IFAO Audit Dev, Please review the following update and advise,

1:02 Uscr:Darran Avenell

lichael Gr
\ddittional 4/02/2020 05:0
events on {IRRELEVANT} give no help as to what the issue might be.

ot sure if this is related to change CHG0143056 Live R19.51 Audit Maintenance which was actioned on

28/01/20.

ne

last Tue

Please pass to Audit Dev on PEAK to investigate, thanks.

[End of Response]
Response code to call type L as Category 40 -- Pending -- Incident Under Investigation
Response was delivered to Consumer

[Date:04-Feb-2020 08:01:17 Uscr:Darran Avenell
fhe Call record has been transferred to the team: Audit-Dey
Progress was delivered to Consumer

JDate:04-Feb-2020 10:50:18 User:Michael Greene
Updating with details of the fa from the stdlis'

rocess Failed. 04/02/2020 03:41:43 1
atal error detected whilst sealing. Seal control process is terminating. 04/02/2020 03:41:34 1
iled to find (STAT) file: FNO1 BRDB ARCHIVE B BRDBRCV20200203 20200204 034034 VO01.dmp%. 04/02/2020 03:41:33 1

Update from Unix
[ob rerun at 04:03 and abended 24 seconds late with.

2,04 02 2020 04 03 49 085,2, SEALER, 3093,Failed to find (STAT) fil
lPNo1 BRDB_ARCHIVE B_BRDBRCV20200203 20200204 034034 V001.dmpZ.
2,04 02 2020 04 03 49 187,2, SEALER, 3068,Fatal error detected whilst sealing. Seal control process is terminating.
2,04 02 2020 04 03 55 677,2, SEALER, 8005, Process Failed.

further rerun failed
- rocess Failed. 04/02/2020 04:39:35 5

atal error detected whilst sealing. Seal control process is terminating. 04/02/2020 04:39:34 5

tailed to find (STAT) file: FNO1 BRDB ARCHIVE B_BRDBRCV20200203 20200204 034034 VO01.dmp%. 04/02/2020 04:39:34 5

[Date:04-Feb-2020 14:42:01 Uscr:Gerald Barnes
[the Call record has been assigned to the Team Member: Gerald Barnes
progress was delivered to Consumer

JDate:04-Feb-2020 15:02:24 Uscr:Jason Muir
call has been cloned to Call:PC0286041 by User:Jason Muir

[Date:04-Feb-2020 1:
call has been cloned to Cal

5:43 Uscr:dason Muir
0286042 by User:dJason Muir

lDate:04-Feb-2020 15:24:50 Uscr:Gyanendra Patel
SELECT art archive group alias,

DECODE (art. table name,

!SYS.AUD$', art.table name,

FUJ00176482
FUJ00176482

FOPSSBRDB. "I Iart.table name),

art archive type,

lart .archive directory,

lart.retention_period,

DECODE (bpt .table_name,

ULL, NULL,

pt-partition root_nameII' 'IIbpc.partition range value) partition name

FROM brdb archived tables art,

lbrdb partitioned tables bpt,

lordb partition creates bpc

WHERE art.archive directory IS NOT NULL

JAND bpt.table name(+) = art.table name

land art archive group alias like '§CV8"
D bpe.table_name(+) ~ bpt.table_name

JAND bpe.status (+) = 'ARCH';

jore number of transaction in OPS§BRDB.BRDB_RX RECOVERY TRANSACTIONS
ight have lead to bigger file size.
Please verify the record count in live to confirm.

Date: 04-Feb-2020 15:40:18 User:Ed Ashford
IARC _DECODE (ART.TABLE_NAME, 'SYS.AUD$", ART.TA AR

ENTION PERIOD PARTITION NAME
Ikcv OPSSBRDB.BRDB_RX RECOVERY TRANSACTIONS RE
IsRDB_ARCHIVE OUTPUT

4 TXN_STRT_DATE,

lDate:05-Feb-2020 1.
[Start of Response]

[the audit system cannot cope with gathering files that are bigger than 2 gigabytes at present. The initial failure was a Ct+ call
to stat which cannot cope with files bigger than 2 gig. There is an alternative call stat64 which does cope but if we use that
then we will get the files size (which is what we were after) as a long long rather than a long as before. A long long is much
bigger than a long and the call will need changing to hold a long long rather than a long everywhere. This includes a change to

6:53 User:Gerald Barnes

the sealer database and the audit client that uses it. So a fix for this problem is unlikely to be available soon.
[End of Response]

Response code to call type L as Category 40 -- Pending -- Incident Under Investigation

Response was delivered to Consumer

tours spent since call received: 6 hours

Jbate:12-Feb-2020 11:28:13 Uscr:Gerald Barnes

nm Incid

IReference Added: Prc

l0ate:12-Feb-2020 11:29:00 User:Gerald Barnes
{Start of Response]

there has been another incidence - PC0286180.
[End of Response]

Response code to call type L as Category 40
Response was delivered to Consumer

Pending -- Incident Under Investigation

Date:09-Apr-2020 18:50:57 Uscr:Harishkumar Malayil
From: Malayil, HaxishKumar ¢_
sent: Wednesday, April
to: Barnes, Gerald
cc: Guy, James <{
subject: Pcozaco14 I INC462061

By Mehrotra, Aastha <
TWS 100 : [ID 702911 user.error

R_STARTB (#579116) «
Iki Gerala,
lwhis PEAK was last updated in February. Is there any progress that can be recorded on this Peak? Kindly let us know.

[thanks & Regards,

Harish Kumar M
project Coordinator

jDate:09-Apr-2020 18:53:11 User:Harishkumar Malayil
From: Barnes, Gerald

sent: 01 April 2020 16:37
to: Malayil, HarishKumar ¢
Guy, James

7 MOREStESy Aastha <f_

FUJ00176482
FUJ00176482

Bubject: fl

Pcozs6014 I INC4o20612 + TWS 100 + [1D 702911 user.error] BAUD SEAL STRIZ

li Harish,
[there has been no further work on this.

IRegards,
lcerald Barnes

TSEALER STARTS (Fd79116) >

pate:03-Jul-2020 09:47:49 Uscr:Gerald Barnes
{Start of Response]

[there has been no further work on this. It is quite a big change.

[End of Response]

lkesponse code to call type L as Category 40 -- Pending -- Incident Under Investigation
Ikesponse was delivered to Consumer

JDate:19-Aug-2020 11:32:03 User:Gerald Barnes
Reference Added: Jira POA-3139

Jatc:19-Aug-2020 19:31:57 Uscr:Gerald Barnes
new Business Impact has heen adde:
[the audit system cannot store files bigger than 2 gig at present.

JDate:19-Aug-2020 19:33:13 User:Gerald Barnes
[fhe call Target Release has been moved to Proposed For ~~ HNG-X 21.16

Date:19-Aug-2020 19:34:35 Usor:Gerald Barnes
Product HNG-X Platforms -- Audit Workstation (AUW) (version:V2) added.

JDate:19-Aug-2020 19:50:33 Uscr:Gerald Barnes
Development Cost updated: new cost is 1 (Man Days)
Start of Response]

[DEVELOPMENT IMPACT OF FIX:

SPECIFY THE HNG-X PLATFORMS IMPACTED:
[fhe platforms are specified and are the audit server and the audit workstation.
IECHNICAL SUMMARY:

t present the audit system cannot cope with files larger than 2 gigabytes.
It is proposed that it is modified sot that it can be.

LIST OF KNOWN DIMENSIONS DESIGN PARTS AFFECTED BY THE CHANGE:

\UDIT_SERVER_APP_V2
UDIT_ EXTRACT CLT v2

DEPENDENCIES:

[there is a workstation fix and a server fix. The workstation fix must be in place before the server fix is done.

[DEPLOYMENT DETAIL:
For the workstation the fix must be done when ARQs are not being run.

For the server there is a script to be run in whilst SQL i
lscaler.exe must be replaced with the schedules not running.

DEV EFFORT IN MANDAYS:
the fix is prepared. One day for release.

IMPACT ON USER:

Files bigger than 2 gig can be gathered.

HMPACT ON OPERATIONS:

jorkarounds need not be done when attempts are made to handle 2 gig plus files.
HAVE RELEVANT KELS BEEN CREATED OR UPDATED?

KEL gbar2750L gives the workaround.

EMPAC’

ON TEST:
[they need to gather and retrieve 2 gig plus files.

Here is a command to create a test one on the audit server.

still running but otherwise the schedules are quiet

and then

FUJ00176482
FUJ00176482

D: \Archiveserver\ INTERFACES\AS_AUDIT TRACK>fSutil file createnew FNO]_AUDIT Hxlogi B Bigrile 20200819 110400_v00l 2147464048

20200819 110400 is to be adjusted to the current date time
RISKS (of releasing and of not releasing proposed fix):

le will continue not to be able to gather 2 gig plus files if the fix is not made. The fix has little risk.
ILIst OF LIKELY DELIVERABLES:

lsealer.exe

ECL ient CX. ocx
changeFilsSizeToBigint.sql

[End of Response]
IResponse code to call type L as Category 55
lkesponse was delivered to Consumer

Hours spent since call received: 1 hours

Pending -- Live Fix Impact Supplied

Date: 19-Aug-2020 19:50:52 User
ction placed on Team:BIF

Gerald Barnes

Date: 26-Aug-2020 12:14:24 User:Adam Harney
sir Approved as per BIF meeting on 26/08/2020

Jbate:26-Aug-2020 12:14:28 Uscr:Adam Harney

Action has been removed from the call

Date: 28-Aug-2020 17:03:59 Uscr:Gerald Barnes
[Start of Response]

[this has been approved by BIF. Can it please be targeted at the next audit maintenance release which is HNG-X 21.16?
{End of Response}

kesponse code to call type L as Category 57
lkesponse was delivered to Consumer

Pending -~ Future Fix Authorised

bate: 28-Aug-2020
ction placed on

[Date:02-Sep-2020 19:52:20 Uscr:Gerald Barnes
Reference Added: Call

JDate:02-Sep-2020
[Start of Response]

there has been another incident - PC0290139.

[End of Response]

lkesponse code to call type L as Category 57 -- Pending -- Future Fix Authorised
kesponse was delivered to Consumer

2:57 Uscr:Gerald Barnes

bate:07-Sep-2020 11:57:07 User:Raj Bains
ction has been removed from the call

Jbate:07-Sep-2020 11:57:16 Uscr:Raj Bains
lAction placed on Team: PTF

[Date:10-Sep-2020 10:17:25 Uscr:Adam Harney
[the call Target Release has been moved to Targeted At —- HNG-X 21.16

bate:10-Sep-2020 10:17:32 Uscr:Adam Harney
lpeak targeted to 21.16 as per PIF meeting on 10/09/2020

Jat e:10-Sep-2020 10:17:34 User:Adam Harney
laction has been removed from the call

JDate:14-Sep-2020 10:00:53 User:Gerald Barnes
Reference Added: Jira POA-3148

[Date:14-Sep-2020 1

1:52 User:Gerald Barnes

FUJ00176482
FUJ00176482

[Start of Response]
Poa-3148 is added to make the Query Manager suite build with vc2019.

[End of Response]
Response code to call type L as Category 40 -- Pending -- Incident Under Investigation
Response was delivered to Consumer

JDatc:14-Sep-2020 16:33:34 Usecr:Gerald Barnes
Reference Added: Jira POA-3147

baté:14-Sep-2020 16:34:20 User:Gerald Barnes
[Start of Response]
Poa-3147 was used to remove all //- comments from the Query Manager source.

[End of Response]
Response code to call type L as Category 40 -- Pending -- Incident Under Investigation
kesponse was delivered to Consumer

Date:15-Sep-2020 1
[Start of Response]

PoA-3150 is for the copying of the source changes for this PEAK into trunk and make any subsequent modifications there. This is
Iso it is clear what needs code reviewing.

721:58 User:Gerald Barnes

[End of Response]
Response code to call type L as Category 40 -- Pending -- Incident Under Investigation
Ikesponse was delivered to Consumer

Date:45-Sep-2020 10:22:17 Uscr:Gerald Barnes
reference Added: Jira POA-3150

Jbate:15-Sep-2020 10:23:10 User:Gerald Barnes
Reference Added: Jira POA-3151

bate:15-Sep-2020 1
[Start of Response]

JPoa-3151 is for storing the built components for this PEAK in trunk.

[End of Response]

Response code to call type L as Category 40 -- Pending -- Incident Under Investigation
esponse was delivered to Consumer

3:56 Uscr:Gerald Barnes

Date:20-Oct-2020 17:10:00 Uscr:Dimensions Automated User
Reference Added: Product Baseline AUDIT EXTRACT CLT V2_2116 voll
Reference Added: Product Baseline AUDIT EXTRACT CLT V2 2116 vo11-vo10

JDate:20-Oct-2020
Reference Adde

Date: 20-Oct-2020 17:35:00 Uscr:Dimensions Automated User
Reference Added: Product Baseline AUDIT EXTRACT SVR_V2_2116_v023-v022

Date: 21-Oct-2020 1
[Start of Response]

Fixed by AUDIT EXTRACT CLT V2_2116 VO011-V010 and AUDIT EXTRACT SVR V2_2116 v023-v022.
{End of Response]

response code to call type L as Category 46
Response was delivered to Consumer

Hours spent since call received: 5 hours

6:34 User:Gerald Barnes

- Pending -~ Product Error Fixed

Date:21-Oct-2020 10:26:42 User:Gerald Barnes
Defect cause updated to 14: Development - Code

bate:21-Oct-=2020 10:26:52 User:Gerald Barnes
[the Call record has been transferred to the team: Dev-Int-Rel
progress was delivered to Consumer

jbate:21-Oct-2020 11:30:00 User:Dimensions Automated Use:
Reference Added: Product Baseline AUDIT EXTRACT SVR_V2_2116 D023-D022

lbate:21-Oct-2020 1
[Start of Response]

7:47 User: PIT Automated User

FUJ00176482
FUJ00176482

Ssigning Peak to PIT Automated User
{End of Response]

Response code to call type L as Category 40 (Incident Under Investigation)
fhe incident has been transferred to the Team: Dev-Int-Rel

{fhe incident has been assigned to the Team Member: PIT Automated User
Progress was delivered to Consumer

jbate:21-Oct-2020 12:20:01 Uscr:Dimensions Automated User
Reference Added: Product Baseline AUDIT EXTRACT CLT V2_2116 D011-D010

pate:23-Oct-2020 09:58:05 Uscr:PIT Automated User
[Start of Response]
Peak 0286014 handled by integration auto handler

Ihe following baselines attached to this peak have the targeting flags set:
AUDIT EXTRACT CLT V2_2116 D011-D010 FOR (LIVE:YES TEST:YES RDT:YES) Integrator: Swadesh Sureshkumar
AUDIT EXTRACT SVR V2 2116 _D023-D022 FOR (LIVE:YES TEST: YES RDT:YES) Integrator: Swadesh Sureshkumar

[these baselines have completed integration testing, moving to holding stack awaiting peak ejection.
[End of Response]

Response code to call type L as Category 47 (Fix Processed by PIT)

the incident has been transferred to the Team: Int-Rel

[fhe incident has been assigned to the Team Member: Olu Peters

Progress was delivered to Consumer

JDate:10-Nov-2020 13:11:39 User:Olu Peters
[fhe Call record has been transferred to the team: Live Supp.Test
Progress was delivered to Consumer

Date:12-Nov-2020 16:31:34 Uscr:Mark Ascott
the Call record has been assigned to the Team Member: Tom Learoyd
Progress was delivered to Consumer

Jbate:03-Dec-2020 11:47:36 User:Lorraine Guiblin
Reference Added: Release PEAK PCO2918

Date:03-Dec-2020 11:55:00 User: Lorr:
Reference Added:

lease PEAK

Jate:49-dan-2021 15:31:09 Uscr: Timothy Harris
tested successfully as suggested by Development as follows:
file > 2GB was created and copied to D:/MiscellaneousArchives folder on ARC201.
then waited a day for the file to be transferred to the Audit (Audit Point) and MiscArcs (Subpoint) share.

n ARQ was then executed towards Audit and MiscArce (Audit Point and Subpoint) with date range 17/12/2020 to 13/012021 to pick up
the BigFile and an AUDGZ file that had been copied to the MicellaneousArchives folder on 18/12/20 and 07/01/21 previously.

[the 3 files were successfully picked up by the ARQ OTH31444B.

lat filtering using ?ABSTRACT? option and seach string JSN = 25093 (which was in BigFile) file Filteredlx was obtained in the ARQ
folder under QUERY_AT/FINAL. This contained instance of the JSN string searched.

:vidence attached,

jate:19-dan-2021
JEvidence Added -

iTimothy Harris

Date: 19-Jan-2021
evidence Added -—

:Timothy Harris

jate:19-gan-2021
evidence Added ~

Timothy Harris

pate:19-Jan-2021 15:35:01 User: Timothy Harris
fhe Call record has been transferred to the team: RM-x
Progress was delivered to Consumer

jDate:19-Jan-2021 15:35:22 Uscr:Timothy Harris
[the Call record has been assigned to the Team Member: Release to Live
progress was delivered to Consumer

FUJ00176482
FUJ00176482

[Date:01-Feb-2021 09:53:01 Uscr:Adam Harney
plied to Live 29/01/2021

lDate:01-Peb-2021 09:53:22 Uscr:Adam Harney
[Start of Response]

plied to Live 29/01/2021

[End of Response]

lkesponse code to call type L as Category 60 -- Final
routing to Call Logger following Final Progress update.
Response was delivered to Consumer

S/W Fix Available to Call Logger

joate:01-Feb-2021 10:01:15 User:Anne Best
[Start of Response]

Please see latest update from releas
[End of Response]

kesponse code to call type L as Category 60 -- Final
Routing to Call Logger following Final Progress update.
service Response was delivered to Consumer

manager - Applied to Live 29/01/2021

S/W Fix Available to Call Logger

Date:01-Feb-2021 10:01:16 Uscr:Anne Best
CALL PCO286014 closed: Category 60 Type L

Root Cause ; Development - Code

Logger _Customer Call_ -- EDSC

Subject Product HNG-X Platforms -- Audit Server (ARC) (version unspecified)
Assignee __Customer Call_ -- EDSC

Last Progress 01-Feb-2021 10:01 -- Anne Best
